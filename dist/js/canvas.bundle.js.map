{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/canvas.js"],"names":["randomIntFromRange","min","max","Math","floor","random","roundRect","canvas","x","y","width","height","radius","fill","stroke","tl","tr","br","bl","defaultRadius","side","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","randomColor","colors","length","distance","x1","y1","x2","y2","xDist","yDist","sqrt","pow","document","querySelector","c","getContext","innerWidth","innerHeight","mouse","player","playerX","playerY","direction","playerSpeed","playerStroke","fast","stopped","weak","stamina","health","regen","add","canFire","start","bullets","i","xDiff","yDiff","xMove","yMove","fract","addEventListener","event","clientX","clientY","init","onkeydown","checkKey","e","window","keyCode","fire","setTimeout","updatePlayer","Bullet","dx","dy","prototype","update","draw","arc","PI","fillStyle","strokeStyle","lineWidth","push","animate","requestAnimationFrame","fillRect","strokeRect","splice"],"mappings":"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","file":"./js/canvas.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/canvas.js\");\n","// UTIlITY FUNCTI0N$\nfunction randomIntFromRange(min, max) {\n    return Math.floor(Math.random() * (max - min + 1) + min)\n}\n\nfunction roundRect(canvas, x, y, width, height, radius, fill, stroke) {\n  if (typeof stroke == 'undefined') {\n    stroke = true;\n  }\n\n  if (typeof radius === 'number') {\n    radius = {tl: radius, tr: radius, br: radius, bl: radius};\n  } else {\n    var defaultRadius = {tl: 0, tr: 0, br: 0, bl: 0};\n    for (var side in defaultRadius) {\n      radius[side] = radius[side] || defaultRadius[side];\n    }\n  }\n\n  canvas.beginPath();\n  canvas.moveTo(x + radius.tl, y);\n  canvas.lineTo(x + width - radius.tr, y);\n  canvas.quadraticCurveTo(x + width, y, x + width, y + radius.tr);\n  canvas.lineTo(x + width, y + height - radius.br);\n  canvas.quadraticCurveTo(x + width, y + height, x + width - radius.br, y + height);\n  canvas.lineTo(x + radius.bl, y + height);\n  canvas.quadraticCurveTo(x, y + height, x, y + height - radius.bl);\n  canvas.lineTo(x, y + radius.tl);\n  canvas.quadraticCurveTo(x, y, x + radius.tl, y);\n  canvas.closePath();\n\n  if (fill) {\n    canvas.fill();\n  } if (stroke) {\n    canvas.stroke();\n  }\n\n}\n\nfunction randomColor(colors) {\n    return colors[Math.floor(Math.random() * colors.length)]\n}\n\nfunction distance(x1, y1, x2, y2) {\n    const xDist = x2 - x1\n    const yDist = y2 - y1\n\n    return Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2))\n}\n\n// Init variables\nconst canvas = document.querySelector('canvas')\nconst c = canvas.getContext('2d')\n\ncanvas.width = innerWidth\ncanvas.height = innerHeight + 20\n\nconst mouse = {\n    x: canvas.width / 2,\n    y: innerHeight / 2\n}\n\nconst colors = ['#2185C5', '#7ECEFD', '#FFF6E5', '#FF7F66']\n\n// Other vars\nlet player\nlet playerX = canvas.width/2\nlet playerY = canvas.height/2\n\nlet direction\nlet playerSpeed = 4\nlet playerStroke = \"white\"\n\nlet fast = false\nlet stopped = true\nlet weak = false\nlet stamina = 100\nlet health = 300\nconst regen = 2\nlet add = true\nlet canFire = true\nlet start = true\nlet bullets = []\nlet i\n\nlet xDiff\nlet yDiff\nlet xMove\nlet yMove\nconst fract = 190\n\n// Event Listeners\naddEventListener('mousemove', event => {\n    mouse.x = event.clientX\n    mouse.y = event.clientY\n})\n\naddEventListener('resize', () => {\n    canvas.width = innerWidth\n    canvas.height = innerHeight\n\n    init()\n})\n\n// Key Listeners\ndocument.onkeydown = checkKey;\n\nfunction checkKey(e) {\n    e = e || window.event;\n\n    if (e.keyCode == '87' && playerStroke != \"orange\") {\n        if (fast == true) {\n            fast = false\n            playerSpeed = 4\n        } if (fast == false) {\n            if (weak == true) {\n                playerSpeed = 4\n            } else {\n                playerSpeed = 6\n            }\n            fast = true\n            stamina -= 4\n        }\n    }\n\n    if (e.keyCode == '32' && playerStroke != \"orange\" && canFire) {\n        canFire = false\n        fire()\n        for (var i = 1; i < 4; i++) {\n            setTimeout(function() {\n                fire()\n            }, 5 * i)\n        }\n        setTimeout(function() {\n            canFire = true\n        }, 400)\n    }\n}\n\nfunction updatePlayer() {\n\n\n    xDiff = mouse.x - playerX\n    yDiff = mouse.y - playerY\n\n    playerX += xDiff/(fract / playerSpeed)\n    playerY += yDiff/(fract / playerSpeed)\n\n    if (playerX < 35 || playerY < 35 || playerX > canvas.width-35 || playerY > canvas.height-35 || stamina <= 0) {\n        playerSpeed = 1\n        fast = false\n        playerStroke = \"orange\"\n        i = randomIntFromRange(1, 20)\n        if (i <= 4) {\n            health -= 4\n        }\n    } else {\n        playerStroke = \"white\"\n    }\n}\n\n// Objects\nfunction Bullet(x, y, dx, dy) {\n    this.x = x\n    this.y = y\n    this.dx = dx\n    this.dy = dy\n}\n\nBullet.prototype.update = function() {\n    this.x += this.dx\n    this.y += this.dy\n    this.draw()\n}\n\nBullet.prototype.draw = function() {\n    c.beginPath()\n    c.arc(this.x, this.y, 4, 0, Math.PI * 2, false)\n    c.fillStyle = \"darkkhaki\"\n    c.fill()\n    c.strokeStyle = \"#111\"\n    c.lineWidth = 2\n    c.stroke()\n    c.closePath()\n}\n\nfunction fire() {\n    if (fast == false) {\n        bullets.push(new Bullet(playerX, playerY, xDiff/(fract / playerSpeed)*4 + 0.7*(Math.random() - 0.5), yDiff/(fract / playerSpeed)*5 + 0.7*(Math.random() - 0.5)))\n    }\n}\n\n// Implementation\nfunction init() {\n    c.lineWidth = 5\n}\n\n// Animation Loop\nfunction animate() {\n    requestAnimationFrame(animate)\n    c.fillStyle = \"rgb(0, 0, 0, 0.1)\"\n    c.fillRect(0, 0, canvas.width, canvas.height)\n\n    if (fast == false) {\n        c.stroke()\n        if (stamina < 100 && add == true && health >= 60) {\n            i = randomIntFromRange(1, 2)\n            if (i == 1) {\n                stamina += 1\n            } if (stopped) {\n                stamina += 1\n            }\n        } if (stamina < 100 && health < 60) {\n            i = randomIntFromRange(1, 10)\n            if (i == 1) {\n                stamina += 1\n            }\n        }\n\n        if (health < 300 && stamina > 66) {\n            i = randomIntFromRange(1, 10)\n            if (i <= regen) {\n                health += 1\n            } if (i > 7 && stopped == true && stamina >= 290) {\n                health += 1\n            }\n        }\n    } else { stamina -= 1 }\n\n    c.strokeStyle = \"gray\"\n\n    if (health <= 60) {\n        c.fillStyle = \"red\"\n        weak = true\n    } else {\n        c.fillStyle = \"limegreen\"\n        weak = false\n    }\n    c.fillRect(canvas.width/2, canvas.height - 70, health * 0.6666667, 30)\n    c.strokeRect(canvas.width/2, canvas.height - 70, 200, 30)\n        \n    if (stamina <= 20) {\n        c.fillStyle = \"red\"\n        weak = true\n    } else {\n        c.fillStyle = \"yellow\"\n        weak = false\n    }\n    c.fillRect(canvas.width/2 - stamina*2, canvas.height - 70, stamina*2, 30)\n    c.strokeRect(canvas.width/2 - 200, canvas.height - 70, 200, 30)\n\n    for (var i = bullets.length - 1; i >= 0; i--) {\n        bullets[i].update()\n        if (bullets[i].x < -20 || bullets[i].y < -20 || bullets[i].x > canvas.width + 20 || bullets[i].y > canvas.height + 20) {\n            bullets.splice(i, 1)\n        }\n    }\n    c.lineWidth = 5\n    c.strokeStyle = playerStroke\n    c.fillStyle = \"#348\"\n    c.beginPath()\n    player = c.arc(playerX, playerY, 12, 0, Math.PI * 2, false)\n    c.closePath()\n    c.fill()\n    updatePlayer()\n}\n\ninit()\nanimate()\n\nsetTimeout(function() {\n    playerSpeed = 7\n    fast = true\n    stamina -= 4\n}, 100)\n"],"sourceRoot":""}